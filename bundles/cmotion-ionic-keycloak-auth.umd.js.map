{"version":3,"file":"cmotion-ionic-keycloak-auth.umd.js","sources":["../../../tslib/tslib.es6.js","@cmotion/ionic-keycloak-auth/lib/contant/deep-linking-config-injection-token.ts","@cmotion/ionic-keycloak-auth/lib/contant/jwt-injection-token.ts","@cmotion/ionic-keycloak-auth/lib/contant/kc-injection-token.ts","@cmotion/ionic-keycloak-auth/lib/model/auth-token.ts","@cmotion/ionic-keycloak-auth/lib/model/deep-link-config.ts","@cmotion/ionic-keycloak-auth/lib/model/id-token-decoded.ts","@cmotion/ionic-keycloak-auth/lib/model/jwt-config.ts","@cmotion/ionic-keycloak-auth/lib/model/kc-config.ts","@cmotion/ionic-keycloak-auth/lib/model/key-value-str.ts","@cmotion/ionic-keycloak-auth/lib/model/keycloak-json-structure.ts","@cmotion/ionic-keycloak-auth/lib/model/keycloak-login-response.ts","@cmotion/ionic-keycloak-auth/lib/model/module-config.ts","@cmotion/ionic-keycloak-auth/lib/model/token-decoded.ts","@cmotion/ionic-keycloak-auth/lib/service/deep-link.service.ts","@cmotion/ionic-keycloak-auth/lib/service/storage.service.ts","@cmotion/ionic-keycloak-auth/lib/service/keycloak-auth.service.ts","@cmotion/ionic-keycloak-auth/lib/service/kc-token-interceptor.service.ts","@cmotion/ionic-keycloak-auth/lib/ionic-keycloak-auth.module.ts"],"names":["InjectionToken","Subject","filter","Injectable","NavController","Deeplinks","Inject","JwtHelperService","BehaviorSubject","HttpParams","HttpHeaders","HttpClient","BrowserTab","Router","InAppBrowser","tslib_1.__extends","JwtInterceptor","NativeStorage","HttpClientModule","HTTP_INTERCEPTORS","NgModule","Platform","Optional","SkipSelf"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","/*\n * Copyright (c) 2019. This Code is under license and belongs to Coding Motion\n */\n\nimport {InjectionToken} from '@angular/core';\n\nexport const DEEP_LINKING_OPTIONS = new InjectionToken('DEEP_LINKING_OPTIONS');\n","/*\n * Copyright (c) 2019. This Code is under license and belongs to Coding Motion\n */\n\nimport {InjectionToken} from '@angular/core';\n\nexport const JWT_GET_AND_SETTER = new InjectionToken('JWT_GET_AND_SETTER');\n","/*\n * Copyright (c) 2019. This Code is under license and belongs to Coding Motion\n */\n\nimport {InjectionToken} from '@angular/core';\n\nexport const KEYCLOAK_OPTIONS = new InjectionToken('KEYCLOAK_OPTIONS');\n","/*\n * Copyright (c) 2019. This Code is under license and belongs to Coding Motion\n */\n\nexport interface AuthToken {\n  access_token: string;\n  expires_in: number;\n  id_token: string;\n  'not-before-policy': number;\n  refresh_expires_in: number;\n  refresh_token: string;\n  scope: string;\n  session_state: string;\n  token_type: string;\n\n  [key: string]: any;\n}\n","/*\n * Copyright (c) 2019. This Code is under license and belongs to Coding Motion\n */\n\nexport class DeepLinkConfig {\n  deepLinkingScheme: string;\n}\n","/*\n * Copyright (c) 2019. This Code is under license and belongs to Coding Motion\n */\n\nexport interface IDTokenDecoded {\n  jti: string;\n  exp: number;\n  nbf: number;\n  iat: number;\n  iss: string;\n  aud: string;\n  sub: string;\n  typ: string;\n  azp: string;\n  nonce: string;\n  auth_time: number;\n  session_state: string;\n  acr: string;\n  email_verified: boolean;\n  name: string;\n  preferred_username: string;\n  given_name: string;\n  family_name: string;\n  email: string;\n  avatarUrl: string;\n  mobileNumber: string;\n  description: string;\n\n  [key: string]: any;\n}\n","/*\n * Copyright (c) 2019. This Code is under license and belongs to Coding Motion\n */\n\nimport {AuthToken} from './auth-token';\n\nexport interface JwtConfig {\n  setToken: (value: AuthToken) => void | Promise<void | null>;\n  getToken: () => AuthToken | null | Promise<AuthToken | null>;\n\n  headerName?: string;\n  authScheme?: string;\n  whitelistedDomains?: Array<string | RegExp>;\n  blacklistedRoutes?: Array<string | RegExp>;\n  throwNoTokenError?: boolean;\n  skipWhenExpired?: boolean;\n}\n","/*\n * Copyright (c) 2019. This Code is under license and belongs to Coding Motion\n */\n\nimport {KeycloakJsonStructure} from './keycloak-json-structure';\n\nexport declare type FetchKeycloakJSON = () => KeycloakJsonStructure | Promise<KeycloakJsonStructure>;\n\nexport class KcConfig {\n  /**\n   * The same as the contain of the keycloak.json\n   * Example: jsonConfig: () => require('/path/to/keycloak.json')\n   */\n  jsonConfig?: FetchKeycloakJSON;\n\n  /**\n   * Example: scope='openid email offline_access address profile', the value would be\n   * 'openid email offline_access address profile' here\n   */\n  scope?: string;\n}\n","/*\n * Copyright (c) 2019. This Code is under license and belongs to Coding Motion\n */\n\nexport interface KeyValueStr {\n    [key: string]: string;\n}\n","/*\n * Copyright (c) 2019. This Code is under license and belongs to Coding Motion\n */\n\nexport interface KeycloakJsonStructure {\n  realm?: string;\n  'auth-server-url'?: string;\n  'ssl-required'?: string;\n  resource?: string;\n  clientId?: string;\n  url?: string;\n  credentials?: null | {\n    secret: string\n  };\n  'confidential-port'?: number;\n\n  [key: string]: any;\n}\n","/*\n * Copyright (c) 2019. This Code is under license and belongs to Coding Motion\n */\n\nexport interface KeycloakLoginResponse {\n    code: string;\n    redirectUri: string;\n}\n","/*\n * Copyright (c) 2019. This Code is under license and belongs to Coding Motion\n */\n\nimport {Provider} from '@angular/core';\nimport {KcConfig} from './kc-config';\nimport {DeepLinkConfig} from './deep-link-config';\nimport {JwtConfig} from './jwt-config';\n\nexport class ModuleConfig {\n  kcOptionsProvider?: Provider;\n  jwtConfigProvider?: Provider;\n\n  keycloakConfig?: KcConfig;\n  deepLinksConfig: DeepLinkConfig;\n  jwtModuleOptions?: JwtConfig;\n}\n","export interface TokenDecoded {\n    jti: string;\n    exp: number;\n    nbf: number;\n    iat: number;\n    iss: string;\n    aud: string;\n    sub: string;\n    typ: string;\n    azp: string;\n    nonce: string;\n    auth_time: number;\n    session_state: string;\n    acr: string;\n    'allowed-origins': string[];\n    realm_access: RealmAccess;\n    resource_access: ResourceAccess;\n    scope: string;\n    email_verified: boolean;\n    name: string;\n    preferred_username: string;\n    given_name: string;\n    family_name: string;\n    email: string;\n}\n\nexport interface RealmAccess {\n    roles: string[];\n}\n\nexport interface ResourceAccess {\n    account: RealmAccess;\n}\n","/*\n * Copyright (c) 2019. This Code is under license and belongs to Coding Motion\n */\n\nimport {Injectable} from '@angular/core';\nimport {Subject} from 'rxjs';\nimport {filter} from 'rxjs/operators';\nimport {DeeplinkMatch, Deeplinks} from '@ionic-native/deeplinks/ngx';\nimport {NavController} from '@ionic/angular';\nimport {KeyValueStr} from '../model/key-value-str';\n\n@Injectable()\nexport class DeepLinkService {\n\n  private paramsSubject = new Subject<string>();\n\n  constructor(private navController: NavController,\n              private deepLinks: Deeplinks) {\n  }\n\n  params() {\n    return this.paramsSubject\n      .pipe(filter(str => !!str));\n  }\n\n  init() {\n    this.deepLinks\n      .route({})\n      .subscribe(\n        (match: DeeplinkMatch) => {\n          // match.$route - the route we matched, which is the matched entry from the arguments to route()\n          // match.$args - the args passed in the link\n          // match.$link - the full link data\n          this.extractData(match.$link);\n        },\n        nomatch => {\n          // nomatch.$link - the full link data\n          this.extractData(nomatch.$link);\n        }\n      );\n  }\n\n  private extractData($link) {\n    if ($link) {\n      const {path, fragment, host, scheme, url} = $link;\n      if (this.containsCode(fragment)) {\n        const extractCode = this.extractCode(fragment);\n        this.nextParams(extractCode.code);\n      }\n    }\n  }\n\n  private extractCode(url: string) {\n    const hashes = url.slice(url.indexOf('?') + 1).split('&');\n    const paramsObj = hashes.reduce((params, hash) => {\n      const [key, val] = hash.split('=');\n      return Object.assign(params, {[key]: decodeURIComponent(val)});\n    }, {} as KeyValueStr);\n    if ((!paramsObj) || (!paramsObj.code)) {\n      return;\n    }\n    paramsObj.code = (paramsObj.code as string).split('#')[0];\n    return paramsObj;\n  }\n\n  private nextParams(code: string) {\n    this.paramsSubject.next(code);\n  }\n\n  private containsCode(fragment: string) {\n    if (!fragment) {\n      return false;\n    }\n    return fragment.indexOf('code') > -1;\n  }\n}\n","/*\n * Copyright (c) 2019. This Code is under license and belongs to Coding Motion\n */\n\nimport {Inject, Injectable} from '@angular/core';\nimport {JwtConfig} from '../model/jwt-config';\nimport {AuthToken} from '../model/auth-token';\nimport {JWT_GET_AND_SETTER} from '../contant/jwt-injection-token';\n\n@Injectable()\nexport class StorageService {\n\n  constructor(\n    @Inject(JWT_GET_AND_SETTER) private config: JwtConfig,\n  ) {\n  }\n\n  public async setToken(value: AuthToken): Promise<void> {\n    return this.config.setToken(value);\n  }\n\n  public async getToken(): Promise<AuthToken> {\n    return this.config.getToken();\n  }\n\n}\n","/*\n * Copyright (c) 2019. This Code is under license and belongs to Coding Motion\n */\n\nimport {Inject, Injectable} from '@angular/core';\nimport {HttpClient, HttpHeaders, HttpParams} from '@angular/common/http';\nimport {DeepLinkService} from './deep-link.service';\nimport {StorageService} from './storage.service';\nimport {BrowserTab} from '@ionic-native/browser-tab/ngx';\nimport {JwtHelperService} from '@auth0/angular-jwt';\nimport {BehaviorSubject, Observable} from 'rxjs';\nimport * as Keycloak_ from 'keycloak-js';\nimport {KeycloakLoginOptions} from 'keycloak-js';\nimport {InAppBrowser} from '@ionic-native/in-app-browser/ngx';\nimport {Router} from '@angular/router';\nimport {IDTokenDecoded} from '../model/id-token-decoded';\nimport {FetchKeycloakJSON, KcConfig} from '../model/kc-config';\nimport {KeycloakJsonStructure} from '../model/keycloak-json-structure';\nimport {DeepLinkConfig} from '../model/deep-link-config';\nimport {AuthToken} from '../model/auth-token';\nimport {TokenDecoded} from '../model/token-decoded';\nimport {KeycloakLoginResponse} from '../model/keycloak-login-response';\nimport {KEYCLOAK_OPTIONS} from '../contant/kc-injection-token';\nimport {DEEP_LINKING_OPTIONS} from '../contant/deep-linking-config-injection-token';\n\n// Workaround from https://github.com/ng-packagr/ng-packagr/issues/343#issuecomment-350965445\nconst Keycloak = Keycloak_;\nconst jwtHelperService: JwtHelperService = new JwtHelperService();\n\n@Injectable()\nexport class KeycloakAuthService {\n\n  private subject: BehaviorSubject<IDTokenDecoded>;\n  private scope: string;\n  private readonly appPrefix: string;\n  private readonly keycloakConfig: FetchKeycloakJSON;\n  private actualKeycloakConfig: KeycloakJsonStructure;\n  private keycloakInstance: Keycloak_.KeycloakInstance;\n\n  constructor(\n    @Inject(DEEP_LINKING_OPTIONS) deepLinkConfig: DeepLinkConfig,\n    @Inject(KEYCLOAK_OPTIONS) kcConfig: KcConfig,\n    protected http: HttpClient,\n    protected browserTab: BrowserTab,\n    protected router: Router,\n    protected storage: StorageService,\n    protected inAppBrowser: InAppBrowser,\n    protected deepLinkService: DeepLinkService,\n  ) {\n    this.scope = kcConfig.scope;\n    this.keycloakConfig = kcConfig.jsonConfig;\n    this.appPrefix = `${deepLinkConfig.deepLinkingScheme}://app`;\n  }\n\n  /**\n   *\n   */\n  public user(): Observable<IDTokenDecoded> {\n    if (!this.subject) {\n      this.subject = new BehaviorSubject<IDTokenDecoded>(null);\n    }\n    return this.subject.asObservable();\n  }\n\n  /**\n   *\n   */\n  public async init() {\n    await this.initKeycloak();\n    return this.refresh();\n  }\n\n  /**\n   *\n   */\n  public async logout() {\n    await this.handleNewToken(null);\n    const url: string = this.getLogoutUrl();\n    return new Promise<void>(async (resolve, reject) => {\n      if (await this.browserTab.isAvailable()) {\n        this.browserTab.openUrl(url)\n          .then(() => this.browserTab.close())\n          .catch(err => reject(err));\n        resolve();\n      } else {\n        const browser = this.inAppBrowser.create(url, '_system');\n        const sub = browser.on('loadstop')\n          .subscribe(() => {\n            browser.close();\n            resolve();\n            sub.unsubscribe();\n          }, err => {\n            reject(err);\n            sub.unsubscribe();\n          });\n      }\n    });\n  }\n\n  /**\n   *\n   * @param isLogin\n   * @param redirectUrl\n   */\n  public async login(isLogin: boolean = true, redirectUrl?: string): Promise<AuthToken> {\n    try {\n      if (redirectUrl[0] === '/') {\n        redirectUrl = redirectUrl.substr(1);\n      }\n      const response = await this.beginLoginAndGetCode(redirectUrl, isLogin);\n      return this.continueLoginWithCode(response);\n    } catch (err) {\n      const context = {messageError: 'Ionic Keycloak Error: error by login'};\n      Object.assign(err, {context});\n      throw err;\n    }\n  }\n\n\n  /**\n   *\n   * @param refresh\n   */\n  public async getToken(refresh = false) {\n    let authToken = await this.storage.getToken();\n    if (!authToken) {\n      return null;\n    }\n    if (refresh || jwtHelperService.isTokenExpired(authToken.access_token, 10)) {\n      authToken = await this.refresh();\n    }\n    return authToken.access_token;\n  }\n\n  public async getTokenDecoded(refresh = false): Promise<TokenDecoded> {\n    const token = await this.getToken(refresh);\n    return jwtHelperService.decodeToken(token) as TokenDecoded;\n  }\n\n  private getLogoutUrl(redirectUrl = this.router.url): string {\n    return this.keycloakInstance.createLogoutUrl({\n      redirectUri: this.appPrefix + encodeURIComponent(redirectUrl)\n    });\n  }\n\n  private async getKcJsonStructure(): Promise<KeycloakJsonStructure> {\n    const prom = this.keycloakConfig();\n    let config: KeycloakJsonStructure;\n    if (prom instanceof Promise) {\n      config = await prom;\n    } else {\n      config = prom;\n    }\n    /**\n     * This line because the init method needs the clientId and url to work\n     * which are the resource and the auth-server-url respectively\n     */\n    config.clientId = config.resource;\n    config.url = config['auth-server-url'];\n    return config;\n  }\n\n  private async handleNewToken(authToken: AuthToken) {\n    if (authToken) {\n      const user: IDTokenDecoded = jwtHelperService.decodeToken(authToken.id_token || authToken.access_token);\n      if (!this.subject) {\n        this.subject = new BehaviorSubject<IDTokenDecoded>(user);\n      }\n      this.subject.next(user);\n      await this.storage.setToken(authToken);\n    } else {\n      if (!this.subject) {\n        this.subject = new BehaviorSubject<IDTokenDecoded>(null);\n      }\n      this.subject.next(null);\n      await this.storage.setToken(null);\n    }\n  }\n\n  private createPostRequest(uri: string, body: any, options?: {\n    headers?: HttpHeaders | {\n      [header: string]: string | string[];\n    };\n  }) {\n    return this.http.post<AuthToken>(uri, body, options).toPromise();\n  }\n\n  private getRefreshParams(refreshToken: string) {\n    const params = new HttpParams()\n      .set('grant_type', 'refresh_token')\n      .set('refresh_token', refreshToken)\n      .set('client_id', encodeURIComponent(this.keycloakInstance.clientId));\n    const secret = this.keycloakInstance.clientSecret;\n    if (secret) {\n      return params\n        .set('client_secret', encodeURIComponent(secret));\n    }\n    return params;\n  }\n\n  private getAccessTokenParams(code: string, redirectUrl: string) {\n    let redirectUri = new HttpParams()\n      .set('grant_type', 'authorization_code')\n      .set('code', code)\n      .set('client_id', encodeURIComponent(this.keycloakInstance.clientId))\n      .set('redirect_uri', redirectUrl);\n    if (this.scope || (this.actualKeycloakConfig && this.actualKeycloakConfig.scope)) {\n      redirectUri = redirectUri.set('scope', this.scope || this.actualKeycloakConfig.scope);\n    }\n\n    const secret = this.keycloakInstance.clientSecret;\n    if (secret) {\n      redirectUri = redirectUri.set('client_secret', encodeURIComponent(secret));\n    }\n    return redirectUri;\n  }\n\n  private getTokenRequestHeaders() {\n    const headers = new HttpHeaders()\n      .set('Content-Type', 'application/x-www-form-urlencoded');\n\n    const clientSecret = this.keycloakInstance.clientSecret;\n    const clientId = this.keycloakInstance.clientId;\n    if (clientId && clientSecret) {\n      headers.set('Authorization', 'Basic ' + btoa(clientId + ':' + clientSecret));\n    }\n    return headers;\n  }\n\n  private async refresh(): Promise<AuthToken> {\n    try {\n      let tokens: AuthToken = await this.storage.getToken();\n      if (tokens) {\n        if (!this.isValidToken(tokens)) {\n          const uri = this.getTokenUrl();\n          const headers = this.getTokenRequestHeaders();\n          const body = this.getRefreshParams(tokens.refresh_token);\n          tokens = await this.createPostRequest(uri, body, {headers});\n        }\n      }\n      this.handleNewToken(tokens);\n      return tokens;\n    } catch (e) {\n      await this.logout();\n      return null;\n    }\n  }\n\n  private getTokenUrl() {\n    return `${this.keycloakInstance.authServerUrl}/realms/${this.keycloakInstance.realm}/protocol/openid-connect/token`;\n  }\n\n  private isValidToken(authToken: AuthToken) {\n    if (!authToken) {\n      return false;\n    }\n    return jwtHelperService.isTokenExpired(authToken.access_token, 10);\n  }\n\n  private async initKeycloakInstance() {\n    const keycloakConfig = await this.getKcJsonStructure();\n    this.actualKeycloakConfig = keycloakConfig;\n    this.keycloakInstance = Keycloak(keycloakConfig);\n  }\n\n  private async initKeycloak() {\n    await this.initKeycloakInstance();\n\n    this.keycloakInstance\n      .init({\n        adapter: 'cordova-native',\n        redirectUri: this.appPrefix + '/'\n      });\n  }\n\n  private async beginLoginAndGetCode(path: string, login = true): Promise<KeycloakLoginResponse> {\n    path = `${this.appPrefix}/${path}`;\n    await this.storage.setToken(null);\n\n    const options: KeycloakLoginOptions = {\n      redirectUri: path\n    };\n    const url: string = login\n      ? this.keycloakInstance.createLoginUrl(options)\n      : this.keycloakInstance.createRegisterUrl(options);\n\n    if (await this.browserTab.isAvailable()) {\n      this.browserTab.openUrl(url);\n    } else {\n      this.inAppBrowser.create(url, '_system');\n    }\n\n    return new Promise<KeycloakLoginResponse>((resolve, reject) => {\n      const sub = this.deepLinkService\n        .params()\n        .subscribe(code => {\n          resolve({code, redirectUri: path});\n          sub.unsubscribe();\n        }, error => {\n          reject(error);\n          sub.unsubscribe();\n        });\n    });\n  }\n\n  private async continueLoginWithCode({code, redirectUri: redirectUrl}: KeycloakLoginResponse): Promise<AuthToken> {\n    this.browserTab.close()\n      .catch((err = {}) => {\n        const context = {message: 'Error while closing the browser'};\n        console.log(context.message, err);\n        Object.assign(err, {context});\n        throw err;\n      });\n    const uri = this.getTokenUrl();\n    const body = this.getAccessTokenParams(code, redirectUrl);\n    const headers = this.getTokenRequestHeaders();\n    return this.createPostRequest(uri, body, {headers})\n      .then(async authToken => {\n        this.handleNewToken(authToken);\n        return authToken;\n      });\n  }\n\n}\n","/*\n * Copyright (c) 2019. This Code is under license and belongs to Coding Motion\n */\n\nimport {Inject, Injectable} from '@angular/core';\nimport {JwtHelperService, JwtInterceptor} from '@auth0/angular-jwt';\nimport {KeycloakAuthService} from './keycloak-auth.service';\nimport {JwtConfig} from '../model/jwt-config';\nimport {JWT_GET_AND_SETTER} from '../contant/jwt-injection-token';\n\n@Injectable()\nexport class KcTokenInterceptorService extends JwtInterceptor {\n\n  constructor(\n    @Inject(JWT_GET_AND_SETTER) private config: JwtConfig,\n    private keycloakAuthService: KeycloakAuthService\n  ) {\n    super(config, new JwtHelperService());\n    this.initTokenGetter();\n  }\n\n  private initTokenGetter() {\n    this.tokenGetter = () => this.keycloakAuthService.getToken();\n  }\n\n}\n","/*\n * Copyright (c) 2019. This Code is under license and belongs to Coding Motion\n */\n\nimport {ModuleWithProviders, NgModule, Optional, SkipSelf} from '@angular/core';\nimport {Platform} from '@ionic/angular';\nimport {NativeStorage} from '@ionic-native/native-storage/ngx';\nimport {BrowserTab} from '@ionic-native/browser-tab/ngx';\nimport {JwtHelperService} from '@auth0/angular-jwt';\nimport {HTTP_INTERCEPTORS, HttpClientModule} from '@angular/common/http';\nimport {Deeplinks} from '@ionic-native/deeplinks/ngx';\nimport {InAppBrowser} from '@ionic-native/in-app-browser/ngx';\nimport {DeepLinkService} from './service/deep-link.service';\nimport {KeycloakAuthService} from './service/keycloak-auth.service';\nimport {StorageService} from './service/storage.service';\nimport {KcTokenInterceptorService} from './service/kc-token-interceptor.service';\nimport {ModuleConfig} from './model/module-config';\nimport {JWT_GET_AND_SETTER} from './contant/jwt-injection-token';\nimport {KEYCLOAK_OPTIONS} from './contant/kc-injection-token';\nimport {DEEP_LINKING_OPTIONS} from './contant/deep-linking-config-injection-token';\n\n@NgModule()\nexport class IonicKeycloakAuthModule {\n\n  constructor(\n    private platform: Platform,\n    private authService: KeycloakAuthService,\n    private deepLinkService: DeepLinkService,\n    @Optional() @SkipSelf() parentModule: IonicKeycloakAuthModule\n  ) {\n    if (parentModule) {\n      throw new Error('JwtModule is already loaded. It should only be imported in your application\\'s main module.');\n    }\n    this.platform\n      .ready()\n      .then(() => this.authService.init())\n      .then(() => this.deepLinkService.init())\n      .catch((err = {}) => {\n        const context = {messageError: 'Ionic Keycloak Error: could not initialize the app'};\n        Object.assign(err, {context});\n        throw err;\n      });\n  }\n\n  public static forRoot(config = new ModuleConfig()): ModuleWithProviders {\n    return {\n      ngModule: IonicKeycloakAuthModule,\n      providers: [\n        Deeplinks,\n        BrowserTab,\n        InAppBrowser,\n        NativeStorage,\n        HttpClientModule,\n        config.kcOptionsProvider || {provide: KEYCLOAK_OPTIONS, useValue: config.keycloakConfig},\n        config.jwtConfigProvider || {provide: JWT_GET_AND_SETTER, useValue: config.jwtModuleOptions},\n        {provide: DEEP_LINKING_OPTIONS, useValue: config.deepLinksConfig},\n        StorageService,\n        DeepLinkService,\n        KeycloakAuthService,\n        JwtHelperService,\n        {\n          provide: HTTP_INTERCEPTORS,\n          useClass: KcTokenInterceptorService,\n          multi: true\n        },\n      ]\n    };\n  }\n\n}\n"]}